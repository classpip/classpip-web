<app-navbar></app-navbar>

<br>

<div class="wrapper">
    <div class="main">
        <div class="section section-basic" id="basic-elements">
            <div class="resource-header">
                <button class="btn back-button" (click)="volver()"><i class="tim-icons icon-minimal-left"></i>
                    Volver</button>
                <h1 class="rsc-name" style="text-align: center;">{{rscName}}</h1>
            </div>

            <div class="text-center" *ngIf="listRecursos; else loading">
                <div *ngIf="listRecursos.length != 0; else noResources">
                    <table class="table" style="width:95%; text-align: center;">
                        <thead>
                            <tr>
                                <th class="text-center" width="40px">#</th>
                                <th class="text-center" width="100px">Nombre</th>
                                <th class="text-center" width="100px" *ngIf="isLoggedIn()">Propietario</th>
                                <th class="text-center" width="20px">ACCIONES</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- 4 COLUMNAS: Numero, nombre, propietario y boton. Silueta???? -->
                            <tr *ngFor="let rsc of listRecursos; let indice=index">
                                <td class="text-center" width="40px">{{indice + 1}}</td>
                                <td class="text-center" width="100px">{{rsc.nombreRecurso}}</td>
                                <td class="text-center" width="100px" *ngIf="isLoggedIn()">{{rsc.propietario}}</td>
                                <td class="td-actions text-center" width="20px">
                                    <a [routerLink]="['/recursos',recurso, rsc.id]">
                                        <button type="button" rel="tooltip"
                                            class="btn btn-sm btn-success btn-roundbtn-icon" placement="bottom"
                                            tooltip="Ver" (click)="EnviaRecurso(rsc)">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </a>

                                    &nbsp;
                                    <button type="button" rel="tooltip" class="btn btn-sm btn-info btn-roundbtn-icon"
                                        placement="bottom" tooltip="Descargar">
                                        <i class="tim-icons icon-cloud-download-93"></i>
                                    </button>
                                    &nbsp;
                                    <button type="button" rel="tooltip" class="btn btn-sm btn-danger btn-roundbtn-icon"
                                        placement="bottom" tooltip="Añadir a tus recursos" *ngIf="isLoggedIn()">
                                        <i class="tim-icons icon-simple-add"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <ng-template #noResources>
                    <div style="text-align: center;">
                        <h2>No hay recursos públicos de tipo "{{rscName}}"</h2>
                    </div>
                </ng-template>
            </div>
            <ng-template #loading style="text-align: center;">
                <div class="loader" style="margin:0 auto;" mode="indeterminate"></div>
            </ng-template>
            <br><br>
        </div>
    </div>
</div>

<app-footer></app-footer>